import cn from 'classnames';
import { useState } from 'react';
import { Link, NavLink, useLocation } from 'react-router-dom';
import Modal from '../Modal';
import styles from './header.module.css';

const Header = () => {
  const [modal, setModal] = useState(false);
  const location = useLocation();
  const { pathname } = location;

  const splitLocation = pathname.split('/');

  const closeModal = () => {
    setModal(false);
  };

  const openModal = () => {
    setModal(!modal);
  };

  return (
    <header className={styles.section}>
      <div className={cn('container', styles.container)}>
        <div className={styles.main_wrapper}>
          <NavLink className={cn('body-2-bold', styles.logo)} to='/'>
            Angel Uriostegui<span>.</span>
          </NavLink>
          <div className={styles.break} />
          <div className={styles.mini_wrapper}>
            <NavLink
              className={cn(
                splitLocation[1] === '' ? 'button-small active' : 'button-small'
              )}
              to=''
            >
              Home V1
            </NavLink>
            <NavLink
              className={cn(
                splitLocation[1] === 'homev2'
                  ? 'button-small active'
                  : 'button-small'
              )}
              to='/homev2'
            >
              Home V2
            </NavLink>
            <NavLink
              className={cn(
                splitLocation[1] === 'homev3'
                  ? 'button-small active'
                  : 'button-small'
              )}
              to='/homev3'
            >
              Home V3
            </NavLink>
          </div>
        </div>

        <div className={styles.wrapper}>
          <NavLink className={cn('button button-stroke')} to='/writings'>
            Purchase $20
          </NavLink>
          <button className={cn('button-svg')} onClick={openModal}>
            <svg
              width='24'
              height='24'
              viewBox='0 0 24 24'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                d='M8 9.25C7.58579 9.25 7.25 9.58579 7.25 10C7.25 10.4142 7.58579 10.75 8 10.75V9.25ZM16 10.75C16.4142 10.75 16.75 10.4142 16.75 10C16.75 9.58579 16.4142 9.25 16 9.25V10.75ZM8 13.25C7.58579 13.25 7.25 13.5858 7.25 14C7.25 14.4142 7.58579 14.75 8 14.75V13.25ZM12 14.75C12.4142 14.75 12.75 14.4142 12.75 14C12.75 13.5858 12.4142 13.25 12 13.25V14.75ZM11 3.75H13V2.25H11V3.75ZM2.75 17V12H1.25V17H2.75ZM13 20.25H6V21.75H13V20.25ZM1.25 17C1.25 19.6234 3.37665 21.75 6 21.75V20.25C4.20507 20.25 2.75 18.7949 2.75 17H1.25ZM21.25 12C21.25 16.5563 17.5563 20.25 13 20.25V21.75C18.3848 21.75 22.75 17.3848 22.75 12H21.25ZM13 3.75C17.5563 3.75 21.25 7.44365 21.25 12H22.75C22.75 6.61522 18.3848 2.25 13 2.25V3.75ZM11 2.25C5.61522 2.25 1.25 6.61522 1.25 12H2.75C2.75 7.44365 6.44365 3.75 11 3.75V2.25ZM8 10.75H16V9.25H8V10.75ZM8 14.75H12V13.25H8V14.75Z'
                fill='#FCFCFD'
              />
            </svg>
          </button>
        </div>
      </div>
      {modal ? null : (
        <div className={styles.responsive_header}>
          <div className={styles.menu}>
            <Link
              className={cn(
                splitLocation[1] === ''
                  ? 'button-svg svg-active'
                  : 'button-svg',
                styles.menu_item
              )}
              to='/'
            >
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path d='M3.15251 7.19692L3.58013 7.81306H3.58013L3.15251 7.19692ZM9.54124 2.763L9.11361 2.14685V2.14685L9.54124 2.763ZM14.4588 2.763L14.8864 2.14685V2.14685L14.4588 2.763ZM20.8475 7.19691L20.4199 7.81306L20.8475 7.19691ZM2.81969 11.2448L2.30191 11.7874L2.30191 11.7874L2.81969 11.2448ZM21.1803 11.2448L20.6625 10.7022V10.7022L21.1803 11.2448ZM10 17.25C9.58579 17.25 9.25 17.5858 9.25 18C9.25 18.4142 9.58579 18.75 10 18.75V17.25ZM14 18.75C14.4142 18.75 14.75 18.4142 14.75 18C14.75 17.5858 14.4142 17.25 14 17.25V18.75ZM16.1804 21.25H7.81965V22.75H16.1804V21.25ZM3.58013 7.81306L9.96886 3.37914L9.11361 2.14685L2.72488 6.58077L3.58013 7.81306ZM14.0311 3.37914L20.4199 7.81306L21.2751 6.58077L14.8864 2.14685L14.0311 3.37914ZM19.6107 13.133V18.0108H21.1107V13.133H19.6107ZM4.3893 18.0108V13.133H2.8893V18.0108H4.3893ZM4.3893 13.133C4.3893 12.2143 4.00651 11.3407 3.33747 10.7022L2.30191 11.7874C2.68244 12.1505 2.8893 12.6354 2.8893 13.133H4.3893ZM20.6625 10.7022C19.9935 11.3407 19.6107 12.2143 19.6107 13.133H21.1107C21.1107 12.6354 21.3176 12.1505 21.6981 11.7874L20.6625 10.7022ZM9.96886 3.37914C11.1775 2.54029 12.8224 2.54029 14.0311 3.37914L14.8864 2.14685C13.1634 0.951051 10.8366 0.951051 9.11361 2.14685L9.96886 3.37914ZM7.81965 21.25C5.89166 21.25 4.3893 19.7671 4.3893 18.0108H2.8893C2.8893 20.6609 5.13015 22.75 7.81965 22.75V21.25ZM16.1804 22.75C18.8698 22.75 21.1107 20.6609 21.1107 18.0108H19.6107C19.6107 19.7671 18.1083 21.25 16.1804 21.25V22.75ZM20.4199 7.81306C21.4262 8.51149 21.53 9.87443 20.6625 10.7022L21.6981 11.7874C23.2624 10.2946 23.05 7.8126 21.2751 6.58077L20.4199 7.81306ZM2.72488 6.58077C0.949956 7.8126 0.737579 10.2946 2.30191 11.7874L3.33747 10.7022C2.47003 9.87443 2.57378 8.51149 3.58013 7.81306L2.72488 6.58077ZM10 18.75H14V17.25H10V18.75Z' />
              </svg>
            </Link>

            <Link
              className={cn(
                splitLocation[1] === 'writings'
                  ? 'button-svg svg-active'
                  : 'button-svg',
                styles.menu_item
              )}
              to='/writings'
            >
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path d='M1.46967 21.4697C1.17678 21.7626 1.17678 22.2374 1.46967 22.5303C1.76256 22.8232 2.23744 22.8232 2.53033 22.5303L1.46967 21.4697ZM12.5976 12.463C12.8905 12.1701 12.8905 11.6952 12.5976 11.4023C12.3047 11.1094 11.8299 11.1094 11.537 11.4023L12.5976 12.463ZM19.1787 11.0239L18.5707 10.5848L19.1787 11.0239ZM15.6329 14.5697L15.1938 13.9617L15.6329 14.5697ZM19.9342 2.0187L19.8297 1.27601L19.9342 2.0187ZM21.9813 4.0651L22.724 4.1695L21.9813 4.0651ZM6.62773 15.3252L5.88504 15.2208L6.62773 15.3252ZM8.67411 17.3723L8.77852 18.115L8.67411 17.3723ZM2.53033 22.5303L12.5976 12.463L11.537 11.4023L1.46967 21.4697L2.53033 22.5303ZM7.37042 15.4296C8.29244 8.87278 13.4818 3.68341 20.0386 2.7614L19.8297 1.27601C12.6103 2.2912 6.90022 8.00133 5.88504 15.2208L7.37042 15.4296ZM15.1938 13.9617C13.2769 15.346 11.0188 16.2854 8.56971 16.6296L8.77852 18.115C11.4758 17.7359 13.9627 16.701 16.072 15.1777L15.1938 13.9617ZM21.2386 3.96069C20.8943 6.40977 19.955 8.66793 18.5707 10.5848L19.7867 11.463C21.31 9.35365 22.3448 6.86683 22.724 4.1695L21.2386 3.96069ZM17.9092 12.403C18.6288 12.403 19.3412 12.0799 19.7867 11.463L18.5707 10.5848C18.4309 10.7784 18.1892 10.903 17.9092 10.903V12.403ZM17.012 13.3002C17.012 12.8047 17.4137 12.403 17.9092 12.403V10.903C16.5853 10.903 15.512 11.9763 15.512 13.3002H17.012ZM16.072 15.1777C16.6889 14.7322 17.012 14.0198 17.012 13.3002H15.512C15.512 13.5802 15.3874 13.8219 15.1938 13.9617L16.072 15.1777ZM20.0386 2.7614C20.7521 2.66107 21.3388 3.24795 21.2386 3.96069L22.724 4.1695C22.9631 2.46852 21.53 1.03692 19.8297 1.27601L20.0386 2.7614ZM5.88504 15.2208C5.64595 16.921 7.07754 18.3542 8.77852 18.115L8.56971 16.6296C7.85698 16.7298 7.2701 16.1431 7.37042 15.4296L5.88504 15.2208Z' />
              </svg>
            </Link>

            <button
              className={cn('button-svg', styles.menu_item)}
              onClick={openModal}
            >
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path d='M6.41603 7.37596C6.07138 7.1462 5.60573 7.23933 5.37596 7.58397C5.1462 7.92862 5.23933 8.39427 5.58397 8.62404L6.41603 7.37596ZM9.7812 10.5208L10.1972 9.89676L10.1972 9.89676L9.7812 10.5208ZM14.2188 10.5208L13.8028 9.89676L13.8028 9.89676L14.2188 10.5208ZM18.416 8.62404C18.7607 8.39427 18.8538 7.92862 18.624 7.58397C18.3943 7.23933 17.9286 7.1462 17.584 7.37596L18.416 8.62404ZM6 3.75H18V2.25H6V3.75ZM21.25 7V17H22.75V7H21.25ZM18 20.25H6V21.75H18V20.25ZM2.75 17V7H1.25V17H2.75ZM6 20.25C4.20507 20.25 2.75 18.7949 2.75 17H1.25C1.25 19.6234 3.37665 21.75 6 21.75V20.25ZM21.25 17C21.25 18.7949 19.7949 20.25 18 20.25V21.75C20.6234 21.75 22.75 19.6234 22.75 17H21.25ZM18 3.75C19.7949 3.75 21.25 5.20507 21.25 7H22.75C22.75 4.37665 20.6234 2.25 18 2.25V3.75ZM6 2.25C3.37665 2.25 1.25 4.37665 1.25 7H2.75C2.75 5.20507 4.20507 3.75 6 3.75V2.25ZM5.58397 8.62404L9.36518 11.1448L10.1972 9.89676L6.41603 7.37596L5.58397 8.62404ZM14.6348 11.1448L18.416 8.62404L17.584 7.37596L13.8028 9.89676L14.6348 11.1448ZM9.36518 11.1448C10.9607 12.2085 13.0393 12.2085 14.6348 11.1448L13.8028 9.89676C12.7111 10.6245 11.2889 10.6245 10.1972 9.89676L9.36518 11.1448Z' />
              </svg>
            </button>
          </div>
        </div>
      )}

      {modal ? (
        <section className={styles.background}>
          <div className={styles.align}>
            <Modal closeModal={closeModal} setModal={setModal} />
          </div>
        </section>
      ) : null}
    </header>
  );
};

export default Header;
